# Comment Visibility and Styling Guide

## What Works
1. Comment Visibility
- Comments are now properly fetched and displayed from Supabase
- Visibility is maintained through proper z-index (9998 for sidebars, 9999 for header)
- Solid white background instead of semi-transparent (rgba) ensures content visibility

2. Visual Styling
- Pink header (rgb(219, 39, 119))
- Metadata buttons in header with semi-transparent white background
- Consistent styling for expert commentary and social discussion
- Sample comment in social section
- Enhanced box shadows and borders

## Debug Information

### Critical CSS Properties
```css
Header:
- z-index: 9999
- background: rgb(219, 39, 119)
- position: fixed

Sidebars:
- z-index: 9998
- background: white (not rgba)
- position: fixed
- width: 320px
```

### Common Issues and Solutions

1. Comments Not Visible
- Check Supabase configuration in window.config
- Verify article ID matches database
- Ensure z-index hierarchy is maintained
- Use solid backgrounds instead of transparent

2. Styling Disappears
- Check for CSS conflicts with page
- Verify inline styles are applied
- Ensure !important flags on critical styles
- Maintain proper DOM hierarchy

3. Layout Issues
- Verify body margins (60px top, 320px sides)
- Check fixed positioning of elements
- Ensure proper stacking context

## What Didn't Work
1. Semi-transparent backgrounds (rgba)
   - Caused visibility issues with page content
   - Solution: Use solid white backgrounds

2. Relative positioning
   - Created layout inconsistencies
   - Solution: Use fixed positioning with proper z-index

3. External stylesheets
   - Unreliable due to page CSS conflicts
   - Solution: Use inline styles with !important where needed

## Verification Steps
1. Check console for debug logs:
   ```javascript
   [DEBUG] Supabase configuration found
   [DEBUG] Article found
   [DEBUG] Comments fetched successfully
   [DEBUG] Rendered comments count
   ```

2. Visual Verification:
   - Pink header with metadata buttons
   - White sidebars with proper shadows
   - Comments visible and properly formatted
   - Sample comment in social section
   - Proper spacing and margins

3. Interaction Verification:
   - Sign in button properly styled
   - Comment sections scrollable
   - Metadata buttons visible
   - Trending articles loading

## Maintenance Notes
- Keep z-index hierarchy (header > sidebars > page content)
- Maintain solid backgrounds for content visibility
- Use inline styles for critical visual elements
- Check Supabase connection before rendering
- Verify article matches before displaying overlay
